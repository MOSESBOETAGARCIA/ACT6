{% extends 'base.html' %}

{% block content %}
<h2>Actualizar Orden</h2>
<form method="post">
    {% csrf_token %}
    <label for="fecha_orden">Fecha Orden:</label>
    <input type="date" id="fecha_orden" name="fecha_orden" value="{{ orden.fecha_orden|date:'Y-m-d' }}" required>

    <label for="total">Total:</label>
    <input type="number" step="0.01" id="total" name="total" value="{{ orden.total }}" required>

    <label for="metodo_pago">Método Pago:</label>
    <input type="text" id="metodo_pago" name="metodo_pago" value="{{ orden.metodo_pago }}" required>

    <label for="fecha_pago">Fecha Pago:</label>
    <input type="date" id="fecha_pago" name="fecha_pago" value="{{ orden.fecha_pago|date:'Y-m-d' }}" required>

    <label for="sucursal">Sucursal:</label>
    <input type="text" id="sucursal" name="sucursal" value="{{ orden.sucursal }}" required>

    <label for="id_empleado">Empleado:</label>
    <select id="id_empleado" name="id_empleado" required>
        {% for empleado in empleados %}
        <option value="{{ empleado.id }}" {% if empleado.id == orden.id_empleado.id %}selected{% endif %}>{{ empleado.nombre }} {{ empleado.apellido }}</option>
        {% endfor %}
    </select>

    <label for="id_cliente">Cliente:</label>
    <select id="id_cliente" name="id_cliente" required>
        {% for cliente in clientes %}
        <option value="{{ cliente.id }}" {% if cliente.id == orden.id_cliente.id %}selected{% endif %}>{{ cliente.nombre }} {{ cliente.apellido }}</option>
        {% endfor %}
    </select>

    <button type="submit">✏️ Actualizar Orden</button>
</form>
{% endblock %}
